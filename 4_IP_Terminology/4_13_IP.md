| **Inicio**         | **atr√°s 12**        | **Siguiente 14**       |
| ------------------ | ------------------- | ---------------------- |
| [üè†](../README.md) | [‚è™](./4_12_NAT.md) | [‚è©](./4_14_Router.md) |

---

## **√çndice**

| Temario                                                                                        |
| ---------------------------------------------------------------------------------------------- |
| [100. ¬øQu√© es una direcci√≥n IP y qu√© significa?](#100-qu√©-es-una-direcci√≥n-ip-y-qu√©-significa) |
| [101. ¬øQu√© es una direcci√≥n IP?](#101-qu√©-es-una-direcci√≥n-ip)                                 |

# **IP**

## **100. ¬øQu√© es una direcci√≥n IP y qu√© significa?**

![IP](/img/4_IP_Terminology/ip.webp "IP")

### üîπ Definici√≥n de direcci√≥n IP

Una **direcci√≥n IP (Internet Protocol Address)** es un n√∫mero √∫nico que identifica a cada dispositivo conectado a una red que utiliza el protocolo IP.
Es como la **direcci√≥n postal** de tu casa: permite que los datos enviados desde Internet lleguen a tu computadora, tel√©fono o servidor.

Ejemplo de direcciones IP:

- IPv4: `192.168.1.10` o `203.0.113.5`
- IPv6: `2001:0db8:85a3::8a2e:0370:7334`

### üîπ ¬øQu√© es una direcci√≥n IP?

Es un **identificador num√©rico** que cumple dos funciones:

1. **Identificaci√≥n del host o dispositivo** (qui√©n es en la red).
2. **Direcci√≥n de ubicaci√≥n** (d√≥nde est√° en la red).

### üîπ ¬øC√≥mo funcionan las direcciones IP?

Cuando tu dispositivo se conecta a Internet:

1. El proveedor de servicios (ISP) le asigna una direcci√≥n IP p√∫blica.
2. Dentro de tu casa, el router asigna direcciones IP privadas a cada dispositivo mediante **DHCP**.
3. Cuando accedes a un sitio web, tu IP es usada como **direcci√≥n de retorno** para que la respuesta llegue a ti.

Ejemplo:

- Tu laptop (IP privada `192.168.1.20`) pide entrar a `www.google.com`.
- El router traduce tu IP privada a su IP p√∫blica (`203.0.113.5`) usando **NAT**.
- Google responde a `203.0.113.5`, y tu router entrega la respuesta a tu laptop.

### üîπ Tipos de direcciones IP

#### 1. **Direcciones IP del consumidor**

Son las asignadas a usuarios finales como hogares o empresas. Pueden ser:

- **Din√°micas** (cambian con el tiempo, la mayor√≠a de usuarios).
- **Est√°ticas** (fijas, para servidores o negocios).

#### 2. **Direcciones IP privadas**

- Usadas dentro de redes locales (no son accesibles desde Internet).
- Ejemplos (reservadas por IANA):

  - `192.168.0.0 ‚Äì 192.168.255.255`
  - `10.0.0.0 ‚Äì 10.255.255.255`
  - `172.16.0.0 ‚Äì 172.31.255.255`

- Ejemplo: tu PC en casa puede ser `192.168.1.20`.

#### 3. **Direcciones IP p√∫blicas**

- Visibles en Internet, asignadas por tu ISP.
- Ejemplo: tu router puede tener la IP p√∫blica `203.0.113.5`.
- Son las ‚Äúcaras‚Äù que otros ven cuando navegas.

#### 4. **Direcciones IP din√°micas**

- Cambian autom√°ticamente cada vez que te conectas o peri√≥dicamente.
- Ventaja: m√°s seguras y econ√≥micas.
- Uso: la mayor√≠a de usuarios dom√©sticos.

#### 5. **Direcciones IP est√°ticas**

- No cambian. Se configuran manualmente o las asigna el ISP a petici√≥n.
- Uso: servidores web, correo, c√°maras de seguridad.
- Ejemplo: un negocio con un servidor puede tener IP fija `198.51.100.25`.

### üîπ Direcciones IP en sitios web

#### 1. **IP compartida**

- Varios sitios web usan la misma direcci√≥n IP (hosting compartido).
- Ejemplo: cientos de p√°ginas peque√±as alojadas en el mismo servidor.

#### 2. **IP dedicada**

- Una sola p√°gina web o aplicaci√≥n tiene su propia IP p√∫blica √∫nica.
- Uso: SSL/TLS dedicado, acceso remoto por IP.

### üîπ C√≥mo buscar direcciones IP

- **Tu IP p√∫blica**: sitios como [whatismyip.com](https://www.whatismyip.com/) o escribiendo en Google _‚ÄúCu√°l es mi IP‚Äù_.
- **Tu IP privada (en casa u oficina)**:

  - Windows: `ipconfig` en CMD
  - Linux/macOS: `ifconfig` o `ip addr`

### üîπ Amenazas a la seguridad de las direcciones IP

- **Geo-localizaci√≥n**: tu IP puede revelar tu ciudad o regi√≥n.
- **Bloqueo / restricci√≥n**: algunos servicios limitan acceso por pa√≠s/IP.
- **Ataques dirigidos**: DDoS contra tu IP p√∫blica.
- **Suplantaci√≥n de identidad (IP spoofing)**: manipulaci√≥n de direcciones IP en ataques.

### üîπ C√≥mo proteger y ocultar tu direcci√≥n IP

1. **Usar una VPN** ‚Üí tu tr√°fico pasa por un servidor intermedio que oculta tu IP real.
2. **Proxy** ‚Üí similar a la VPN, pero sin cifrado completo.
3. **Tor** ‚Üí red distribuida para anonimato.
4. **Cambiando tu IP** ‚Üí reiniciando el router (si es din√°mica).

### üîπ ¬øCu√°ndo deber√≠as usar una VPN?

- Al conectarte a **Wi-Fi p√∫blico** (cafeter√≠as, aeropuertos).
- Para **acceder a contenido restringido geogr√°ficamente** (ej. Netflix de otro pa√≠s).
- Para **proteger tu identidad en l√≠nea** (ocultar tu IP real de rastreadores).
- Para **evitar censura** o firewalls corporativos/gubernamentales.

### üìå Resumen

- La direcci√≥n IP es el **identificador √∫nico** de tu dispositivo en la red.
- Hay IP **privadas** (locales) y **p√∫blicas** (Internet), que pueden ser **din√°micas** o **est√°ticas**.
- Los sitios web usan IP **compartidas** o **dedicadas**.
- Tu IP puede ser rastreada ‚Üí usa **VPN/Proxy/Tor** para protegerla.

---

[üîº](#√≠ndice)

---

## **101. ¬øQu√© es una direcci√≥n IP?**

### 1. Idea b√°sica y prop√≥sito

- **Identificador + localizador**: una IP dice _qui√©n_ es el dispositivo (identificaci√≥n) y _d√≥nde_ est√° en la topolog√≠a de red (ubicaci√≥n l√≥gica).
- **Funci√≥n pr√°ctica**: cuando un servidor env√≠a una respuesta por Internet, necesita saber la IP destino para que el paquete llegue al dispositivo correcto.

### 2. Formatos: IPv4 vs IPv6

#### IPv4 (m√°s habitual hoy)

- Representaci√≥n decimal punteada: **`192.168.1.10`**.
- Tama√±o: **32 bits** ‚Üí \~4.294 millones de direcciones posibles (2^32).
- Ejemplo en binario (uno de los octetos): `192` = `11000000` (8 bits).

#### IPv6 (dise√±ada para reemplazar IPv4)

- Representaci√≥n hexadecimal y compresi√≥n: **`2001:0db8:85a3::8a2e:0370:7334`** (los `::` comprimen cadenas de ceros).
- Tama√±o: **128 bits** ‚Üí (\~3.4√ó10^38) direcciones ‚Üí pr√°ctica soluci√≥n a la escasez IPv4.
- Ejemplo simplificado con /64: `2001:db8::1/64` indica la parte de red y la parte de host.

### 3. Tipos importantes de direcciones IP (conceptos y ejemplos)

#### Direcciones p√∫blicas vs privadas

- **IP p√∫blica**: visible en Internet (p. ej. `203.0.113.5`). Asignada por tu ISP o por la infraestructura cloud.
- **IP privada**: usadas dentro de redes locales y **no enrutable** en Internet. Ranges IPv4 privados:

  - `10.0.0.0/8` (10.0.0.0‚Äì10.255.255.255)
  - `172.16.0.0/12` (172.16.0.0‚Äì172.31.255.255)
  - `192.168.0.0/16` (192.168.0.0‚Äì192.168.255.255)

#### IP din√°mica vs est√°tica

- **Din√°mica**: asignada temporalmente por DHCP. Ej.: tu m√≥vil recibe IP cuando se conecta al Wi-Fi.
- **Est√°tica**: se configura fija (manual o reserva DHCP). √ötil para servidores o impresoras.

#### IP de consumidor vs corporativa

- Consumidor t√≠pico: IP din√°mica asignada por ISP (resuelta con NAT en el router).
- Empresa: puede tener IPs p√∫blicas fijas o un rango asignado por el proveedor.

#### Otras categor√≠as importantes

- **Loopback**: `127.0.0.1/8` (IPv4) ‚Äî la m√°quina se comunica consigo misma.
- **APIPA/Link-local**: `169.254.0.0/16` (cuando no hay DHCP en IPv4). IPv6 usa `fe80::/10` para link-local.
- **Multicast**: `224.0.0.0/4` (IPv4).
- **Broadcast**: `255.255.255.255` (uso especial) y la direcci√≥n de broadcast de cada subred.

### 4. Estructura y notaci√≥n: redes y hosts (CIDR / m√°scaras)

Las direcciones IP se combinan con una **m√°scara** (o prefijo CIDR) que indica cu√°ntos bits identifican la **red** y cu√°ntos el **host**.

- Notaci√≥n CIDR: `192.168.1.10/24` ‚Üí `/24` significa que los primeros 24 bits son la parte de red; m√°scara = `255.255.255.0`.

#### Ejemplo sencillo ‚Äî /24

**IP**: `192.168.1.10/24`

- M√°scara: `255.255.255.0`
- Direcci√≥n de red: `192.168.1.0`
- Direcci√≥n de broadcast: `192.168.1.255`
- Rango usable de hosts: `192.168.1.1` ‚Ä¶ `192.168.1.254`

#### Ejemplo con c√°lculo /26 ‚Äî explicado paso a paso (bits)

**IP**: `192.168.1.130/26`

- /26 ‚Üí m√°scara = `255.255.255.192` (porque los 26 bits = 11111111.11111111.11111111.11000000).
- √öltimo octeto m√°scara: `192` = `11000000` en binario.
- √öltimo octeto de la IP: `130` = `10000010` en binario.

C√°lculo de la direcci√≥n de red (AND bit a bit, octeto por octeto):

- `10000010` (130) AND `11000000` (192) = `10000000` (128). ‚Üí √∫ltimo octeto red = 128.
  ‚Üí **Direcci√≥n de red** = `192.168.1.128`.

C√°lculo de broadcast: tomar la direcci√≥n de red y marcar los bits de host a 1:

- M√°scara de host (invertida) = `00111111` = 63.
- Broadcast √∫ltimo octeto = `128` OR `63` = `191`.
  ‚Üí **Broadcast** = `192.168.1.191`.

Rango usable: `192.168.1.129` ‚Ä¶ `192.168.1.190`.

(La aritm√©tica bit a bit garantiza que la red y broadcast son correctos.)

### 5. ¬øC√≥mo se asigna una IP a un dispositivo?

- **DHCP (din√°mico)**: el servidor DHCP contesta con una IP y opciones (gateway, DNS, lease time). Es la forma m√°s usada.
- **Est√°tica**: el administrador configura la IP manualmente en el dispositivo.
- **SLAAC/DHCPv6**: en IPv6, los hosts pueden autoconfigurarse con prefijos anunciados por routers (SLAAC) o usar DHCPv6.

### 6. Relaci√≥n con MAC, ARP y NAT

- **IP** es capa 3 (red). **MAC** es capa 2 (enlace) ‚Äî cada paquete IP necesita una direcci√≥n MAC para ser entregado en una LAN Ethernet.
- **ARP** (IPv4) resuelve IP ‚Üí MAC dentro de la misma red local.
- **NAT** (Network Address Translation) traduce IP privadas a IP p√∫blicas para conectar la LAN a Internet (ej.: varios hosts privados comparten una IP p√∫blica).

### 7. Ejemplo pr√°ctico de uso: navegar a una web

1. Tu dispositivo con IP privada `192.168.1.10` hace una petici√≥n HTTP.
2. Router (NAT) traduce origen a `203.0.113.5` (IP p√∫blica) y env√≠a la petici√≥n.
3. El servidor web responde a `203.0.113.5`.
4. Router mira su tabla NAT, traduce destino de vuelta a `192.168.1.10` y entrega el paquete.

### 8. C√≥mo ver tu IP (comandos √∫tiles)

**En tu equipo local (privada):**

- Windows: `ipconfig`
- Linux: `ip addr show` o `ifconfig`
- macOS: `ifconfig` o `ipconfig getifaddr en0`

**Tu IP p√∫blica (ejemplos):**

- Usar sitios web como ‚Äú¬øCu√°l es mi IP?‚Äù o desde la l√≠nea:

```bash
curl ifconfig.me        # muestra IP p√∫blica usando un servicio web
```

(este comando depende de servicios externos; en una red sin Internet no funcionar√°).

### 9. Riesgos y privacidad relacionados con la IP

- **Geolocalizaci√≥n**: una IP puede indicar ciudad/ISP aproximado.
- **Exposici√≥n**: servidores expuestos a Internet (IP p√∫blica) son objetivo potencial de escaneo, DDoS o exploits.
- **Spoofing (suplantaci√≥n)**: en ciertos tipos de ataque el atacante falsifica la IP de origen.
- **Seguimiento**: anuncios y sitios pueden correlacionar actividad por IP (combinado con cookies/huellas).

**C√≥mo protegerse**: usar (seg√∫n necesidad) **VPN**, **firewall**, NAT, proxies, y mantener servicios actualizados; limitar servicios p√∫blicos e implementar DDoS protection para servidores p√∫blicos.

### 10. Buenas pr√°cticas de uso de direcciones IP

- Usa **DHCP** para endpoints finales y **reservas** (o IPs est√°ticas) solo para servidores/infraestructura.
- Documenta tu **plan de direccionamiento** (subredes, gateways, reservas).
- No mezcles direcciones privadas con p√∫blicas: evita errores de enrutamiento.
- Mant√©n reglas de firewall y segmentaci√≥n (VLANs) para limitar exposici√≥n interna.
- Prefiere IPv6 cuando sea posible para evitar las complicaciones de NAT p√∫blico.

### 11. Resumen r√°pido (cheat-sheet)

- **Direcci√≥n IP** = identificador + localizador para dispositivos en redes IP.
- **IPv4** = 32 bits; **IPv6** = 128 bits.
- **Privada** vs **p√∫blica**; **din√°mica** vs **est√°tica**.
- **CIDR** (`/n`) indica cu√°ntos bits son red; calcula red y broadcast con operaciones bit a bit (AND/OR).
- Para ver IP local: `ipconfig` / `ip addr show`. Para IP p√∫blica: `curl ifconfig.me` o visitar ‚Äú¬øCu√°l es mi IP?‚Äù.

---

[üîº](#√≠ndice)

---

| **Inicio**         | **atr√°s 12**        | **Siguiente 14**       |
| ------------------ | ------------------- | ---------------------- |
| [üè†](../README.md) | [‚è™](./4_12_NAT.md) | [‚è©](./4_14_Router.md) |
